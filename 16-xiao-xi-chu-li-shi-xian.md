# 1.6 消息处理实现

## 1.6.1 GameRole详细设计

比照需求，逐条设计实现函数

+ 新客户端连接后，向其发送ID和名称
  - GameRole的构造函数中，需要对ID和名称进行赋值，使用静态变量递增，保证ID唯一
  - 创建函数SendSelfIDName用于回传ID和名称
  - init函数内调用函数SendSelfIDName
+ 新客户端连接后，向其发送**周围**玩家的位置
  - 根据客户端实际情况创建单例游戏世界对象，后续通过该对象完成所有**周围**的功能
  - 定义函数GetSurroundPlayers用于获取周围玩家
  - init函数内调用SyncSurround2Self
+ 新客户端连接后，向**周围**玩家发送其位置
  - GameRole的构造函数中，需要对玩家坐标进行赋值
  - 创建
+ 收到客户端的移动信息后，向**周围**玩家发送其新位置
+ 收到客户端的移动信息后，向其发送**周围新**玩家位置
+ 收到客户端的聊天信息后，向**所有**玩家发送聊天内容
+ 客户端断开时，向**周围**玩家发送其断开的消息



